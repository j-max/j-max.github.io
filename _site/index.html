<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>
    
      J-Max &middot; coder, writer, problem solver
    
  </title>

  <link rel="stylesheet" href="/styles.css">
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.ico">
  <link rel="alternate" type="application/atom+xml" title="J-Max" href="/atom.xml">
</head>


  <body>

    <div class="container content">
      <header class="masthead">
        <h3 class="masthead-title">
          <a href="/" title="Home">J-Max</a>
          <small>coder, writer, problem solver:</small><br>
          
          &nbsp;&nbsp;&nbsp;
          <small><a href="/about">About</a></small>
          
          &nbsp;&nbsp;&nbsp;
          <small><a href="/archive">Archive</a></small>
          
          &nbsp;&nbsp;&nbsp;
          <small><a href="/index.html">Feed</a></small>
          
        </h3>
      </header>

      <main>
      <div class="posts">
  
  <article class="post">
    <h1 class="post-title">
      <a href="/2019/06/19/CPSGradRatePlots/">
        CPS 2017-18 CPS High School Graduation Rate vs Student Demographic Plots
      </a>
    </h1>

    <time datetime="2019-06-19T00:00:00-05:00" class="post-date">19 Jun 2019</time>

    
<style>

#test {
	width: 100%;
	font: 10px sans-serif;
}

.xaxis_button {
	width: 30%;

	margin: 5px;
	
	float: left;
 font: 15px sans-serif;
 border-radius: 5px;
 text-align: center;
 
}
#option {
		display: inline-block;
		width: 100%;
		color: black;
		opacity: 50%;
}
#low_income {
		background: pink;
}

#african_american_students {
		background: orange;
}

#asian_students {
		background: rgb(0,0,255,.5)
}

#caucasian_students {
		background: rgb(128,0,128, .5);
}

#hispanic_students {
		background: rgb(255,0,0, .5);;
}

#total_students {
		background: aqua
}

.axis path, .axis line {
  fill: none;
  stroke: #000;
  shape-rendering: crispEdges;
}

</style>

<div id="option">
	<div id="low_income" class="xaxis_button">Low Income Student %</div>
	<div id="african_american_students" class="xaxis_button">African American Student %</div>
	<div id="asian_students" class="xaxis_button">Asian Student %</div>
	<div id="caucasian_students" class="xaxis_button">Caucasian Student %</div>
	<div id="hispanic_students" class="xaxis_button">Hispanic Student %</div>
	<div id="total_students" class="xaxis_button">Total Student</div>

</div>
<div id="test"></div>
<script src="https://d3js.org/d3.v5.min.js"></script>

<script type="text/javascript">

//dataset columns: school_id, school_name, grad_rate, total_students, low_inc_percentage

var padding = 30;
var w = 600;
var h = 400;
//x is student population, y is graduation rate


	var svg = d3.select("#test")
							.append("svg")
							.attr("height", h)
							.attr("width", w);

	dataset =  [['400105', 'URBAN PREP - BRONZEVILLE HS', 83.1, 337.0], ['609676', 'DUNBAR HS', 62.5, 322.0], ['400087', 'YOUNG WOMENS HS', 67.6, 160.0], ['609764', 'JUAREZ HS', 78.6, 1706.0], ['400104', 'INSTITUTO - HEALTH', 85.0, 745.0], ['609748', 'YORK HS', 2.3, 184.0], ['400057', 'NOBLE - UIC HS', 92.4, 931.0], ['609750', 'SIMPSON HS', 23.1, 34.0], ['400102', 'URBAN PREP - WEST HS', 57.3, 176.0], ['400091', 'CHICAGO TECH HS', 77.0, 269.0], ['400054', 'NOBLE - PRITZKER HS', 91.3, 975.0], ['609691', 'NORTH-GRAND HS', 79.3, 992.0], ['609716', 'KELVYN PARK HS', 65.7, 405.0], ['609679', 'PROSSER HS', 87.6, 1329.0], ['609726', 'BROOKS HS', 90.4, 989.0], ['609705', 'FENGER HS', 57.7, 208.0], ['609761', 'CORLISS HS', 64.3, 275.0], ['609710', 'HARLAN HS', 57.4, 329.0], ['400094', 'EPIC HS', 74.3, 543.0], ['609739', 'WASHINGTON HS', 81.4, 1440.0], ['609674', 'CHICAGO VOCATIONAL HS', 76.8, 888.0], ['610323', 'BOWEN HS', 61.9, 253.0], ['610547', 'SOUTH SHORE INTL HS', 86.5, 655.0], ['609755', 'YOUNG HS', 96.1, 2211.0], ['400036', 'CHICAGO VIRTUAL', 60.0, 671.0], ['609756', 'CURIE HS', 78.7, 2912.0], ['400085', 'ACERO - GARCIA HS', 89.2, 625.0], ['609715', 'KELLY HS', 79.2, 1901.0], ['610543', 'SOLORIO HS', 82.7, 1196.0], ['610518', 'AUSTIN CCA HS', 77.3, 214.0], ['610245', 'DOUGLASS HS', 60.9, 63.0], ['610244', 'CLARK HS', 82.1, 522.0], ['400077', 'U OF C - WOODLAWN HS', 73.1, 623.0], ['609713', 'HYDE PARK HS', 57.0, 760.0], ['400056', 'NOBLE - ROWE CLARK HS', 78.6, 404.0], ['610394', 'UPLIFT HS', 58.4, 159.0], ['400058', 'NORTH LAWNDALE - CHRISTIANA HS', 75.9, 367.0], ['609704', 'FARRAGUT HS', 62.6, 672.0], ['610385', 'MULTICULTURAL HS', 82.0, 220.0], ['610383', 'SOCIAL JUSTICE HS', 77.6, 304.0], ['610384', 'INFINITY HS', 91.6, 408.0], ['610392', 'WORLD LANGUAGE HS', 85.0, 355.0], ['610357', 'SPRY HS', 83.6, 126.0], ['610499', 'COLLINS HS', 61.0, 222.0], ['400059', 'NORTH LAWNDALE - COLLINS HS', 75.7, 366.0], ['609692', 'SIMEON HS', 85.2, 1341.0], ['400062', 'PERSPECTIVES - TECH HS', 80.6, 315.0], ['400061', 'PERSPECTIVES - LEADERSHIP HS', 80.3, 404.0], ['400032', 'CICS - ELLISON HS', 77.8, 348.0], ['610529', 'OGDEN HS', 93.9, 596.0], ['400055', 'NOBLE - RAUNER HS', 83.8, 619.0], ['400051', 'NOBLE - NOBLE HS', 94.1, 668.0], ['400053', 'NOBLE - GOLDER HS', 86.2, 667.0], ['610340', 'CHICAGO ACADEMY HS', 87.1, 560.0], ['609732', 'STEINMETZ HS', 73.9, 1232.0], ['609722', 'MANLEY HS', 43.3, 83.0], ['609783', 'JEFFERSON HS', 0.8, 190.0], ['400097', 'NOBLE - BULLS HS', 81.9, 1161.0], ['610304', 'PHOENIX MILITARY HS', 92.9, 545.0], ['609744', 'NORTHSIDE LEARNING HS', 0.0, 220.0], ['609724', 'MATHER HS', 78.5, 1484.0], ['400034', 'CICS - NORTHTOWN HS', 84.4, 918.0], ['609738', 'LINCOLN PARK HS', 90.9, 2105.0], ['609746', 'KENWOOD HS', 86.3, 1862.0], ['610381', 'BRONZEVILLE HS', 75.9, 217.0], ['610380', 'WILLIAMS HS', 87.3, 179.0], ['609712', 'HIRSCH HS', 40.0, 103.0], ['400052', 'NOBLE - COMER', 85.4, 1181.0], ['609734', 'TAFT HS', 87.2, 3414.0], ['400033', 'CICS - LONGWOOD', 73.3, 1281.0], ['609762', 'JULIAN HS', 71.3, 452.0], ['609725', 'MORGAN PARK HS', 82.6, 1238.0], ['610513', 'AIR FORCE HS', 86.7, 197.0], ['609735', 'TILDEN HS', 55.2, 219.0], ['609682', 'RICHARDS HS', 59.5, 226.0], ['400106', 'NOBLE - JOHNSON HS', 77.7, 762.0], ['400086', 'URBAN PREP - ENGLEWOOD HS', 78.7, 259.0], ['610506', 'TEAM HS', 75.9, 1.0], ['609768', 'HOPE HS', 61.9, 22.0], ['609708', 'FOREMAN HS', 64.7, 749.0], ['609729', 'SCHURZ HS', 74.3, 1618.0], ['609766', 'VAUGHN HS', 20.6, 228.0], ['609698', 'BOGAN HS', 71.4, 847.0], ['610524', 'ALCOTT HS', 81.3, 316.0], ['609720', 'LANE TECH HS', 95.5, 4514.0], ['400013', 'ASPIRA - EARLY COLLEGE HS', 79.2, 340.0], ['609694', 'HANCOCK HS', 86.2, 1011.0], ['609741', 'HUBBARD HS', 82.9, 1705.0], ['609709', 'GAGE PARK HS', 62.8, 346.0], ['609728', 'ROOSEVELT HS', 69.7, 954.0], ['609737', 'VON STEUBEN HS', 91.1, 1770.0], ['609749', 'NORTHSIDE PREP HS', 96.6, 1091.0], ['609695', 'AMUNDSEN HS', 76.0, 1285.0], ['400066', 'PERSPECTIVES - MATH & SCI HS', 75.7, 495.0], ['609754', 'CHICAGO MILITARY HS', 89.6, 298.0], ['609727', 'PHILLIPS HS', 63.0, 768.0], ['609751', 'KING HS', 88.5, 513.0], ['400098', 'NOBLE - MUCHIN HS', 94.8, 973.0], ['609733', 'SULLIVAN HS', 66.1, 666.0], ['400035', 'CHICAGO MATH & SCIENCE HS', 85.9, 604.0], ['609740', 'WELLS HS', 75.7, 362.0], ['609759', 'CLEMENTE HS', 81.5, 704.0], ['400022', 'CHIARTS HS', 84.6, 612.0], ['609730', 'SENN HS', 85.8, 1415.0], ['610390', 'RICKOVER MILITARY HS', 88.3, 458.0], ['610389', 'ORR HS', 46.4, 225.0], ['609723', 'MARSHALL HS', 46.1, 265.0], ['610334', 'RABY HS', 67.5, 343.0], ['609693', 'WESTINGHOUSE HS', 93.3, 1203.0], ['609718', 'KENNEDY HS', 73.8, 1600.0], ['610391', 'LINDBLOM HS', 89.3, 1364.0], ['609711', 'HARPER HS', 55.9, 87.0], ['609753', 'CHICAGO AGRICULTURE HS', 83.9, 767.0], ['609760', 'CARVER MILITARY HS', 89.9, 482.0], ['609680', 'PAYTON HS', 98.5, 1153.0], ['609678', 'JONES HS', 98.1, 1918.0], ['609719', 'LAKE VIEW HS', 88.2, 1385.0]]
	
	var xScale = d3.scaleLinear()
								.domain([0, d3.max(dataset, function(d){
																		return d[3]; })])
									.range([padding, w-padding*2]);

	var yScale = d3.scaleLinear()
				 .domain([0, d3.max(dataset, function(d) {
															return d[2]; })]) 
							 .range([h-padding, padding+20]);

//create x and y axis

	var xAxis = d3.axisBottom()
							.scale(xScale);

	var yAxis = d3.axisLeft()
								.scale(yScale);

	// div for tooltip
	var div = d3.select("body").append("div")
							.attr("class", "tooltip")
							.style("opacity", 0);

	
	
	svg.selectAll("circle")
			.data(dataset)
			.enter()
			.append("circle")
			.attr("cx", function(d) {
			// three added because the data point with 1 student appeared to be left of the y axis.
			//the data point needs to be removed
									return xScale(d[3])+3;})
			.attr("cy", function(d) {
									return yScale(d[2]);})
			.attr("r", 3)
			.on("mouseover", function(d) {
					div.transition()
							.duration(200)
							.style("opacity", .9);
					div.html("x_value: " + d[3]+
											"<br/>" + "Graduation Rate: " + d[2]+
											"<br/>" + "School: " + d[1]);
			})
			.on("mouseout", function (d) {
					div.transition()
					.duration(500)
					.style("opacity", 0);
			});


//	Add axis labels
	 svg.append("text")
	 		.attr("class", "x label")
	 		.attr("text-anchor", "end")
	 		.attr("x", w/2+50)
	 		.attr("y", h-2)
	 		.text("Total Student Population");
	
  // text label for the y axis
  svg.append("text")
      .attr("transform", "rotate(-90)")
      .attr("y", 0-2)
      .attr("x",0 - (h / 2))
      .attr("dy", "1em")
      .style("text-anchor", "middle")
      .text("Graduation Rate");      
	
	 svg.append("text")
	 		.attr("class", "title")
	 		.attr("text-anchor", "end")
	 		.attr("x", w/2 + 120)
	 		.attr("y", padding + 0)
	 		.text("2017/18 CPS High School Graduation Rates vs. Total Student Population");

	svg.append("g")
			.attr("class", "y axis")
			.attr("transform", "translate("+padding +",0)")
			.call(yAxis);

	svg.append("g")
			.attr("class", "x axis")
			.attr("transform", "translate(0," +(h-padding) + ")")
			.call(xAxis);

d3.select("#low_income")
	.on("click", function() {
//			svg.selectAll("circle").remove();
//		svg.select('.xAxis').remove()
//create x and y axis
	dataset = [['400105', 'URBAN PREP - BRONZEVILLE HS', 83.1, 0.635014836795252] ,
['609676', 'DUNBAR HS', 62.5, 0.708074534161491] ,
['400087', 'YOUNG WOMENS HS', 67.6, 0.6] ,
['609764', 'JUAREZ HS', 78.6, 0.626025791324736] ,
['400104', 'INSTITUTO - HEALTH', 85.0, 0.930201342281879] ,
['609748', 'YORK HS', 2.3, 0.967391304347826] ,
['400057', 'NOBLE - UIC HS', 92.4, 0.839957035445757] ,
['609750', 'SIMPSON HS', 23.1, 0.735294117647059] ,
['400102', 'URBAN PREP - WEST HS', 57.3, 0.511363636363636] ,
['400091', 'CHICAGO TECH HS', 77.0, 0.676579925650558] ,
['400054', 'NOBLE - PRITZKER HS', 91.3, 0.953846153846154] ,
['609691', 'NORTH-GRAND HS', 79.3, 0.748991935483871] ,
['609716', 'KELVYN PARK HS', 65.7, 0.669135802469136] ,
['609679', 'PROSSER HS', 87.6, 0.693002257336343] ,
['609726', 'BROOKS HS', 90.4, 0.614762386248736] ,
['609705', 'FENGER HS', 57.7, 0.836538461538462] ,
['609761', 'CORLISS HS', 64.3, 0.752727272727273] ,
['609710', 'HARLAN HS', 57.4, 0.930091185410334] ,
['400094', 'EPIC HS', 74.3, 0.655616942909761] ,
['609739', 'WASHINGTON HS', 81.4, 0.701388888888889] ,
['609674', 'CHICAGO VOCATIONAL HS', 76.8, 0.755630630630631] ,
['610323', 'BOWEN HS', 61.9, 0.636363636363636] ,
['610547', 'SOUTH SHORE INTL HS', 86.5, 0.774045801526718] ,
['609755', 'YOUNG HS', 96.1, 0.368159203980099] ,
['400036', 'CHICAGO VIRTUAL', 60.0, 0.599105812220566] ,
['609756', 'CURIE HS', 78.7, 0.770604395604396] ,
['400085', 'ACERO - GARCIA HS', 89.2, 0.5104] ,
['609715', 'KELLY HS', 79.2, 0.798001052077854] ,
['610543', 'SOLORIO HS', 82.7, 0.756688963210702] ,
['610518', 'AUSTIN CCA HS', 77.3, 0.747663551401869] ,
['610245', 'DOUGLASS HS', 60.9, 0.698412698412698] ,
['610244', 'CLARK HS', 82.1, 0.710727969348659] ,
['400077', 'U OF C - WOODLAWN HS', 73.1, 0.590690208667737] ,
['609713', 'HYDE PARK HS', 57.0, 0.717105263157895] ,
['400056', 'NOBLE - ROWE CLARK HS', 78.6, 0.948019801980198] ,
['610394', 'UPLIFT HS', 58.4, 0.811320754716981] ,
['400058', 'NORTH LAWNDALE - CHRISTIANA HS', 75.9, 0.959128065395095] ,
['609704', 'FARRAGUT HS', 62.6, 0.84375] ,
['610385', 'MULTICULTURAL HS', 82.0, 0.945454545454545] ,
['610383', 'SOCIAL JUSTICE HS', 77.6, 0.855263157894737] ,
['610384', 'INFINITY HS', 91.6, 0.958333333333333] ,
['610392', 'WORLD LANGUAGE HS', 85.0, 0.938028169014084] ,
['610357', 'SPRY HS', 83.6, 0.761904761904762] ,
['610499', 'COLLINS HS', 61.0, 0.918918918918919] ,
['400059', 'NORTH LAWNDALE - COLLINS HS', 75.7, 0.781420765027322] ,
['609692', 'SIMEON HS', 85.2, 0.847874720357942] ,
['400062', 'PERSPECTIVES - TECH HS', 80.6, 0.828571428571429] ,
['400061', 'PERSPECTIVES - LEADERSHIP HS', 80.3, 0.853960396039604] ,
['400032', 'CICS - ELLISON HS', 77.8, 0.85632183908046] ,
['610529', 'OGDEN HS', 93.9, 0.473154362416107] ,
['400055', 'NOBLE - RAUNER HS', 83.8, 0.820678513731826] ,
['400051', 'NOBLE - NOBLE HS', 94.1, 0.82185628742515] ,
['400053', 'NOBLE - GOLDER HS', 86.2, 0.892053973013493] ,
['610340', 'CHICAGO ACADEMY HS', 87.1, 0.541071428571429] ,
['609732', 'STEINMETZ HS', 73.9, 0.51461038961039] ,
['609722', 'MANLEY HS', 43.3, 0.795180722891566] ,
['609783', 'JEFFERSON HS', 0.8, 0.457894736842105] ,
['400097', 'NOBLE - BULLS HS', 81.9, 0.882859603789836] ,
['610304', 'PHOENIX MILITARY HS', 92.9, 0.878899082568807] ,
['609744', 'NORTHSIDE LEARNING HS', 0.0, 0.65] ,
['609724', 'MATHER HS', 78.5, 0.526954177897574] ,
['400034', 'CICS - NORTHTOWN HS', 84.4, 0.735294117647059] ,
['609738', 'LINCOLN PARK HS', 90.9, 0.320190023752969] ,
['609746', 'KENWOOD HS', 86.3, 0.495703544575725] ,
['610381', 'BRONZEVILLE HS', 75.9, 0.695852534562212] ,
['610380', 'WILLIAMS HS', 87.3, 0.82122905027933] ,
['609712', 'HIRSCH HS', 40.0, 0.970873786407767] ,
['400052', 'NOBLE - COMER', 85.4, 0.825571549534293] ,
['609734', 'TAFT HS', 87.2, 0.394844756883421] ,
['400033', 'CICS - LONGWOOD', 73.3, 0.819672131147541] ,
['609762', 'JULIAN HS', 71.3, 0.734513274336283] ,
['609725', 'MORGAN PARK HS', 82.6, 0.72859450726979] ,
['610513', 'AIR FORCE HS', 86.7, 0.746192893401015] ,
['609735', 'TILDEN HS', 55.2, 0.812785388127854] ,
['609682', 'RICHARDS HS', 59.5, 0.920353982300885] ,
['400106', 'NOBLE - JOHNSON HS', 77.7, 0.854330708661417] ,
['400086', 'URBAN PREP - ENGLEWOOD HS', 78.7, 0.498069498069498] ,
['610506', 'TEAM HS', 75.9, 1.0] ,
['609768', 'HOPE HS', 61.9, 0.818181818181818] ,
['609708', 'FOREMAN HS', 64.7, 0.690253671562083] ,
['609729', 'SCHURZ HS', 74.3, 0.779975278121137] ,
['609766', 'VAUGHN HS', 20.6, 0.706140350877193] ,
['609698', 'BOGAN HS', 71.4, 0.756788665879575] ,
['610524', 'ALCOTT HS', 81.3, 0.661392405063291] ,
['609720', 'LANE TECH HS', 95.5, 0.400088613203367] ,
['400013', 'ASPIRA - EARLY COLLEGE HS', 79.2, 0.929411764705882] ,
['609694', 'HANCOCK HS', 86.2, 0.694362017804154] ,
['609741', 'HUBBARD HS', 82.9, 0.858064516129032] ,
['609709', 'GAGE PARK HS', 62.8, 0.673410404624277] ,
['609728', 'ROOSEVELT HS', 69.7, 0.748427672955975] ,
['609737', 'VON STEUBEN HS', 91.1, 0.646892655367232] ,
['609749', 'NORTHSIDE PREP HS', 96.6, 0.3987167736022] ,
['609695', 'AMUNDSEN HS', 76.0, 0.746303501945525] ,
['400066', 'PERSPECTIVES - MATH & SCI HS', 75.7, 0.694949494949495] ,
['609754', 'CHICAGO MILITARY HS', 89.6, 0.661073825503356] ,
['609727', 'PHILLIPS HS', 63.0, 0.670572916666667] ,
['609751', 'KING HS', 88.5, 0.666666666666667] ,
['400098', 'NOBLE - MUCHIN HS', 94.8, 0.841726618705036] ,
['609733', 'SULLIVAN HS', 66.1, 0.533033033033033] ,
['400035', 'CHICAGO MATH & SCIENCE HS', 85.9, 0.653973509933775] ,
['609740', 'WELLS HS', 75.7, 0.798342541436464] ,
['609759', 'CLEMENTE HS', 81.5, 0.728693181818182] ,
['400022', 'CHIARTS HS', 84.6, 0.315359477124183] ,
['609730', 'SENN HS', 85.8, 0.652296819787986] ,
['610390', 'RICKOVER MILITARY HS', 88.3, 0.534934497816594] ,
['610389', 'ORR HS', 46.4, 0.857777777777778] ,
['609723', 'MARSHALL HS', 46.1, 0.8] ,
['610334', 'RABY HS', 67.5, 0.860058309037901] ,
['609693', 'WESTINGHOUSE HS', 93.3, 0.669160432252702] ,
['609718', 'KENNEDY HS', 73.8, 0.448125] ,
['610391', 'LINDBLOM HS', 89.3, 0.626099706744868] ,
['609711', 'HARPER HS', 55.9, 0.839080459770115] ,
['609753', 'CHICAGO AGRICULTURE HS', 83.9, 0.23728813559322] ,
['609760', 'CARVER MILITARY HS', 89.9, 0.807053941908714] ,
['609680', 'PAYTON HS', 98.5, 0.280138768430182] ,
['609678', 'JONES HS', 98.1, 0.371220020855057] ,
['609719', 'LAKE VIEW HS', 88.2, 0.568953068592058]]
	//only the xscal needs to be updated since the graduation rates remain constant.
	xScale.domain([0, d3.max(dataset, function(d){	return d[3]; })]);
	yScale.domain([0, d3.max(dataset, function(d){  return d[2]; })]); 


		svg.selectAll("circle")
			.data(dataset)
			.transition()
			.duration(1000)
			.on("start", function() {
					d3.select(this)
						.attr("fill", "pink")
						.attr("r", 3);
			})
			.attr("cx", function(d) {
			// three added because the data point with 1 student appeared to be left of the y axis.
			//the data point needs to be removed
									return xScale(d[3])+3;})
			.attr("cy", function(d) {
									return yScale(d[2]);})
			.on("end", function() {
				d3.select(this)
					.attr("fill", "black")
					.attr("r", 3);
			});
		


				 svg.select(".title")
				   		.text("2017/18 CPS High School Graduation Rates vs. Low Income Student Percentage");

					
					svg.select(".y.axis")
					 .transition()
					 .duration(1000)
								.call(yAxis);
		
					svg.select(".x.axis")
					 .transition()
					 .duration(1000)
								.call(xAxis);

				svg.select(".x.label")
	 		.text("Low Income Student Percentage");

			});

d3.select("#total_students")
	.on("click", function() {
		dataset =  [['400105', 'URBAN PREP - BRONZEVILLE HS', 83.1, 337.0], ['609676', 'DUNBAR HS', 62.5, 322.0], ['400087', 'YOUNG WOMENS HS', 67.6, 160.0], ['609764', 'JUAREZ HS', 78.6, 1706.0], ['400104', 'INSTITUTO - HEALTH', 85.0, 745.0], ['609748', 'YORK HS', 2.3, 184.0], ['400057', 'NOBLE - UIC HS', 92.4, 931.0], ['609750', 'SIMPSON HS', 23.1, 34.0], ['400102', 'URBAN PREP - WEST HS', 57.3, 176.0], ['400091', 'CHICAGO TECH HS', 77.0, 269.0], ['400054', 'NOBLE - PRITZKER HS', 91.3, 975.0], ['609691', 'NORTH-GRAND HS', 79.3, 992.0], ['609716', 'KELVYN PARK HS', 65.7, 405.0], ['609679', 'PROSSER HS', 87.6, 1329.0], ['609726', 'BROOKS HS', 90.4, 989.0], ['609705', 'FENGER HS', 57.7, 208.0], ['609761', 'CORLISS HS', 64.3, 275.0], ['609710', 'HARLAN HS', 57.4, 329.0], ['400094', 'EPIC HS', 74.3, 543.0], ['609739', 'WASHINGTON HS', 81.4, 1440.0], ['609674', 'CHICAGO VOCATIONAL HS', 76.8, 888.0], ['610323', 'BOWEN HS', 61.9, 253.0], ['610547', 'SOUTH SHORE INTL HS', 86.5, 655.0], ['609755', 'YOUNG HS', 96.1, 2211.0], ['400036', 'CHICAGO VIRTUAL', 60.0, 671.0], ['609756', 'CURIE HS', 78.7, 2912.0], ['400085', 'ACERO - GARCIA HS', 89.2, 625.0], ['609715', 'KELLY HS', 79.2, 1901.0], ['610543', 'SOLORIO HS', 82.7, 1196.0], ['610518', 'AUSTIN CCA HS', 77.3, 214.0], ['610245', 'DOUGLASS HS', 60.9, 63.0], ['610244', 'CLARK HS', 82.1, 522.0], ['400077', 'U OF C - WOODLAWN HS', 73.1, 623.0], ['609713', 'HYDE PARK HS', 57.0, 760.0], ['400056', 'NOBLE - ROWE CLARK HS', 78.6, 404.0], ['610394', 'UPLIFT HS', 58.4, 159.0], ['400058', 'NORTH LAWNDALE - CHRISTIANA HS', 75.9, 367.0], ['609704', 'FARRAGUT HS', 62.6, 672.0], ['610385', 'MULTICULTURAL HS', 82.0, 220.0], ['610383', 'SOCIAL JUSTICE HS', 77.6, 304.0], ['610384', 'INFINITY HS', 91.6, 408.0], ['610392', 'WORLD LANGUAGE HS', 85.0, 355.0], ['610357', 'SPRY HS', 83.6, 126.0], ['610499', 'COLLINS HS', 61.0, 222.0], ['400059', 'NORTH LAWNDALE - COLLINS HS', 75.7, 366.0], ['609692', 'SIMEON HS', 85.2, 1341.0], ['400062', 'PERSPECTIVES - TECH HS', 80.6, 315.0], ['400061', 'PERSPECTIVES - LEADERSHIP HS', 80.3, 404.0], ['400032', 'CICS - ELLISON HS', 77.8, 348.0], ['610529', 'OGDEN HS', 93.9, 596.0], ['400055', 'NOBLE - RAUNER HS', 83.8, 619.0], ['400051', 'NOBLE - NOBLE HS', 94.1, 668.0], ['400053', 'NOBLE - GOLDER HS', 86.2, 667.0], ['610340', 'CHICAGO ACADEMY HS', 87.1, 560.0], ['609732', 'STEINMETZ HS', 73.9, 1232.0], ['609722', 'MANLEY HS', 43.3, 83.0], ['609783', 'JEFFERSON HS', 0.8, 190.0], ['400097', 'NOBLE - BULLS HS', 81.9, 1161.0], ['610304', 'PHOENIX MILITARY HS', 92.9, 545.0], ['609744', 'NORTHSIDE LEARNING HS', 0.0, 220.0], ['609724', 'MATHER HS', 78.5, 1484.0], ['400034', 'CICS - NORTHTOWN HS', 84.4, 918.0], ['609738', 'LINCOLN PARK HS', 90.9, 2105.0], ['609746', 'KENWOOD HS', 86.3, 1862.0], ['610381', 'BRONZEVILLE HS', 75.9, 217.0], ['610380', 'WILLIAMS HS', 87.3, 179.0], ['609712', 'HIRSCH HS', 40.0, 103.0], ['400052', 'NOBLE - COMER', 85.4, 1181.0], ['609734', 'TAFT HS', 87.2, 3414.0], ['400033', 'CICS - LONGWOOD', 73.3, 1281.0], ['609762', 'JULIAN HS', 71.3, 452.0], ['609725', 'MORGAN PARK HS', 82.6, 1238.0], ['610513', 'AIR FORCE HS', 86.7, 197.0], ['609735', 'TILDEN HS', 55.2, 219.0], ['609682', 'RICHARDS HS', 59.5, 226.0], ['400106', 'NOBLE - JOHNSON HS', 77.7, 762.0], ['400086', 'URBAN PREP - ENGLEWOOD HS', 78.7, 259.0], ['610506', 'TEAM HS', 75.9, 1.0], ['609768', 'HOPE HS', 61.9, 22.0], ['609708', 'FOREMAN HS', 64.7, 749.0], ['609729', 'SCHURZ HS', 74.3, 1618.0], ['609766', 'VAUGHN HS', 20.6, 228.0], ['609698', 'BOGAN HS', 71.4, 847.0], ['610524', 'ALCOTT HS', 81.3, 316.0], ['609720', 'LANE TECH HS', 95.5, 4514.0], ['400013', 'ASPIRA - EARLY COLLEGE HS', 79.2, 340.0], ['609694', 'HANCOCK HS', 86.2, 1011.0], ['609741', 'HUBBARD HS', 82.9, 1705.0], ['609709', 'GAGE PARK HS', 62.8, 346.0], ['609728', 'ROOSEVELT HS', 69.7, 954.0], ['609737', 'VON STEUBEN HS', 91.1, 1770.0], ['609749', 'NORTHSIDE PREP HS', 96.6, 1091.0], ['609695', 'AMUNDSEN HS', 76.0, 1285.0], ['400066', 'PERSPECTIVES - MATH & SCI HS', 75.7, 495.0], ['609754', 'CHICAGO MILITARY HS', 89.6, 298.0], ['609727', 'PHILLIPS HS', 63.0, 768.0], ['609751', 'KING HS', 88.5, 513.0], ['400098', 'NOBLE - MUCHIN HS', 94.8, 973.0], ['609733', 'SULLIVAN HS', 66.1, 666.0], ['400035', 'CHICAGO MATH & SCIENCE HS', 85.9, 604.0], ['609740', 'WELLS HS', 75.7, 362.0], ['609759', 'CLEMENTE HS', 81.5, 704.0], ['400022', 'CHIARTS HS', 84.6, 612.0], ['609730', 'SENN HS', 85.8, 1415.0], ['610390', 'RICKOVER MILITARY HS', 88.3, 458.0], ['610389', 'ORR HS', 46.4, 225.0], ['609723', 'MARSHALL HS', 46.1, 265.0], ['610334', 'RABY HS', 67.5, 343.0], ['609693', 'WESTINGHOUSE HS', 93.3, 1203.0], ['609718', 'KENNEDY HS', 73.8, 1600.0], ['610391', 'LINDBLOM HS', 89.3, 1364.0], ['609711', 'HARPER HS', 55.9, 87.0], ['609753', 'CHICAGO AGRICULTURE HS', 83.9, 767.0], ['609760', 'CARVER MILITARY HS', 89.9, 482.0], ['609680', 'PAYTON HS', 98.5, 1153.0], ['609678', 'JONES HS', 98.1, 1918.0], ['609719', 'LAKE VIEW HS', 88.2, 1385.0]]

//create x and y axis
	xScale.domain([0, d3.max(dataset, function(d){	return d[3]; })]);
	yScale.domain([0, d3.max(dataset, function(d){  return d[2]; })]); 


		svg.selectAll("circle")
			.data(dataset)
			.transition()
			.duration(1000)
			.on("start", function() {
					d3.select(this)
						.attr("fill", "aqua")
						.attr("r", 3);
			})
			.attr("cx", function(d) {
			// three added because the data point with 1 student appeared to be left of the y axis.
			//the data point needs to be removed
									return xScale(d[3])+3;})
			.attr("cy", function(d) {
									return yScale(d[2]);})
			.on("end", function() {
				d3.select(this)
					.attr("fill", "black")
					.attr("r", 3);
			});

					svg.select(".y.axis")
					 .transition()
					 .duration(1000)
								.call(yAxis);
		
					svg.select(".x.axis")
					 .transition()
					 .duration(1000)
								.call(xAxis);

			svg.select(".title")
				 .text("2017/18 CPS High School Graduation Rates vs. Total Student Count Percentage");

				svg.select(".x.label")
	 		.text("Total Student Count");

				});
	

d3.select("#african_american_students")
	.on("click", function() {

dataset = [['400105', 'URBAN PREP - BRONZEVILLE HS', 83.1, 0.979228486646884] ,
['609676', 'DUNBAR HS', 62.5, 0.953416149068323] ,
['400087', 'YOUNG WOMENS HS', 67.6, 0.93125] ,
['609764', 'JUAREZ HS', 78.6, 0.0310668229777257] ,
['400104', 'INSTITUTO - HEALTH', 85.0, 0.0187919463087248] ,
['609748', 'YORK HS', 2.3, 0.777173913043478] ,
['400057', 'NOBLE - UIC HS', 92.4, 0.302900107411386] ,
['609750', 'SIMPSON HS', 23.1, 0.735294117647059] ,
['400102', 'URBAN PREP - WEST HS', 57.3, 0.960227272727273] ,
['400091', 'CHICAGO TECH HS', 77.0, 0.806691449814126] ,
['400054', 'NOBLE - PRITZKER HS', 91.3, 0.0369230769230769] ,
['609691', 'NORTH-GRAND HS', 79.3, 0.171370967741935] ,
['609716', 'KELVYN PARK HS', 65.7, 0.0592592592592593] ,
['609679', 'PROSSER HS', 87.6, 0.192626034612491] ,
['609726', 'BROOKS HS', 90.4, 0.792719919110212] ,
['609705', 'FENGER HS', 57.7, 0.966346153846154] ,
['609761', 'CORLISS HS', 64.3, 0.974545454545454] ,
['609710', 'HARLAN HS', 57.4, 0.975683890577508] ,
['400094', 'EPIC HS', 74.3, 0.626151012891344] ,
['609739', 'WASHINGTON HS', 81.4, 0.0493055555555556] ,
['609674', 'CHICAGO VOCATIONAL HS', 76.8, 0.968468468468468] ,
['610323', 'BOWEN HS', 61.9, 0.798418972332016] ,
['610547', 'SOUTH SHORE INTL HS', 86.5, 0.966412213740458] ,
['609755', 'YOUNG HS', 96.1, 0.204432383536861] ,
['400036', 'CHICAGO VIRTUAL', 60.0, 0.584202682563338] ,
['609756', 'CURIE HS', 78.7, 0.128090659340659] ,
['400085', 'ACERO - GARCIA HS', 89.2, 0.0096] ,
['609715', 'KELLY HS', 79.2, 0.0399789584429248] ,
['610543', 'SOLORIO HS', 82.7, 0.0418060200668896] ,
['610518', 'AUSTIN CCA HS', 77.3, 0.97196261682243] ,
['610245', 'DOUGLASS HS', 60.9, 0.952380952380952] ,
['610244', 'CLARK HS', 82.1, 0.967432950191571] ,
['400077', 'U OF C - WOODLAWN HS', 73.1, 0.975922953451043] ,
['609713', 'HYDE PARK HS', 57.0, 0.986842105263158] ,
['400056', 'NOBLE - ROWE CLARK HS', 78.6, 0.787128712871287] ,
['610394', 'UPLIFT HS', 58.4, 0.735849056603774] ,
['400058', 'NORTH LAWNDALE - CHRISTIANA HS', 75.9, 0.986376021798365] ,
['609704', 'FARRAGUT HS', 62.6, 0.125] ,
['610385', 'MULTICULTURAL HS', 82.0, 0.140909090909091] ,
['610383', 'SOCIAL JUSTICE HS', 77.6, 0.111842105263158] ,
['610384', 'INFINITY HS', 91.6, 0.00735294117647059] ,
['610392', 'WORLD LANGUAGE HS', 85.0, 0.047887323943662] ,
['610357', 'SPRY HS', 83.6, 0.0] ,
['610499', 'COLLINS HS', 61.0, 0.972972972972973] ,
['400059', 'NORTH LAWNDALE - COLLINS HS', 75.7, 0.983606557377049] ,
['609692', 'SIMEON HS', 85.2, 0.985831469052946] ,
['400062', 'PERSPECTIVES - TECH HS', 80.6, 0.980952380952381] ,
['400061', 'PERSPECTIVES - LEADERSHIP HS', 80.3, 0.975247524752475] ,
['400032', 'CICS - ELLISON HS', 77.8, 0.997126436781609] ,
['610529', 'OGDEN HS', 93.9, 0.441275167785235] ,
['400055', 'NOBLE - RAUNER HS', 83.8, 0.197092084006462] ,
['400051', 'NOBLE - NOBLE HS', 94.1, 0.115269461077844] ,
['400053', 'NOBLE - GOLDER HS', 86.2, 0.157421289355322] ,
['610340', 'CHICAGO ACADEMY HS', 87.1, 0.103571428571429] ,
['609732', 'STEINMETZ HS', 73.9, 0.158279220779221] ,
['609722', 'MANLEY HS', 43.3, 0.975903614457831] ,
['609783', 'JEFFERSON HS', 0.8, 0.794736842105263] ,
['400097', 'NOBLE - BULLS HS', 81.9, 0.321274763135228] ,
['610304', 'PHOENIX MILITARY HS', 92.9, 0.155963302752294] ,
['609744', 'NORTHSIDE LEARNING HS', 0.0, 0.209090909090909] ,
['609724', 'MATHER HS', 78.5, 0.134097035040431] ,
['400034', 'CICS - NORTHTOWN HS', 84.4, 0.0664488017429194] ,
['609738', 'LINCOLN PARK HS', 90.9, 0.213301662707838] ,
['609746', 'KENWOOD HS', 86.3, 0.843179377013964] ,
['610381', 'BRONZEVILLE HS', 75.9, 0.967741935483871] ,
['610380', 'WILLIAMS HS', 87.3, 0.966480446927374] ,
['609712', 'HIRSCH HS', 40.0, 0.951456310679612] ,
['400052', 'NOBLE - COMER', 85.4, 0.966977138018628] ,
['609734', 'TAFT HS', 87.2, 0.0216754540128881] ,
['400033', 'CICS - LONGWOOD', 73.3, 0.992974238875878] ,
['609762', 'JULIAN HS', 71.3, 0.980088495575221] ,
['609725', 'MORGAN PARK HS', 82.6, 0.973344103392569] ,
['610513', 'AIR FORCE HS', 86.7, 0.416243654822335] ,
['609735', 'TILDEN HS', 55.2, 0.502283105022831] ,
['609682', 'RICHARDS HS', 59.5, 0.407079646017699] ,
['400106', 'NOBLE - JOHNSON HS', 77.7, 0.955380577427822] ,
['400086', 'URBAN PREP - ENGLEWOOD HS', 78.7, 0.992277992277992] ,
['610506', 'TEAM HS', 75.9, 1.0] ,
['609768', 'HOPE HS', 61.9, 0.454545454545455] ,
['609708', 'FOREMAN HS', 64.7, 0.21762349799733] ,
['609729', 'SCHURZ HS', 74.3, 0.0995055624227441] ,
['609766', 'VAUGHN HS', 20.6, 0.241228070175439] ,
['609698', 'BOGAN HS', 71.4, 0.608028335301063] ,
['610524', 'ALCOTT HS', 81.3, 0.189873417721519] ,
['609720', 'LANE TECH HS', 95.5, 0.077536552946389] ,
['400013', 'ASPIRA - EARLY COLLEGE HS', 79.2, 0.0205882352941176] ,
['609694', 'HANCOCK HS', 86.2, 0.0178041543026706] ,
['609741', 'HUBBARD HS', 82.9, 0.0656891495601173] ,
['609709', 'GAGE PARK HS', 62.8, 0.38150289017341] ,
['609728', 'ROOSEVELT HS', 69.7, 0.127882599580713] ,
['609737', 'VON STEUBEN HS', 91.1, 0.0983050847457627] ,
['609749', 'NORTHSIDE PREP HS', 96.6, 0.075160403299725] ,
['609695', 'AMUNDSEN HS', 76.0, 0.11284046692607] ,
['400066', 'PERSPECTIVES - MATH & SCI HS', 75.7, 0.97979797979798] ,
['609754', 'CHICAGO MILITARY HS', 89.6, 0.630872483221476] ,
['609727', 'PHILLIPS HS', 63.0, 0.979166666666667] ,
['609751', 'KING HS', 88.5, 0.941520467836257] ,
['400098', 'NOBLE - MUCHIN HS', 94.8, 0.287769784172662] ,
['609733', 'SULLIVAN HS', 66.1, 0.39039039039039] ,
['400035', 'CHICAGO MATH & SCIENCE HS', 85.9, 0.30794701986755] ,
['609740', 'WELLS HS', 75.7, 0.477900552486188] ,
['609759', 'CLEMENTE HS', 81.5, 0.301136363636364] ,
['400022', 'CHIARTS HS', 84.6, 0.338235294117647] ,
['609730', 'SENN HS', 85.8, 0.253003533568905] ,
['610390', 'RICKOVER MILITARY HS', 88.3, 0.0764192139737991] ,
['610389', 'ORR HS', 46.4, 0.835555555555556] ,
['609723', 'MARSHALL HS', 46.1, 0.984905660377358] ,
['610334', 'RABY HS', 67.5, 0.921282798833819] ,
['609693', 'WESTINGHOUSE HS', 93.3, 0.528678304239402] ,
['609718', 'KENNEDY HS', 73.8, 0.03125] ,
['610391', 'LINDBLOM HS', 89.3, 0.709677419354839] ,
['609711', 'HARPER HS', 55.9, 0.96551724137931] ,
['609753', 'CHICAGO AGRICULTURE HS', 83.9, 0.440677966101695] ,
['609760', 'CARVER MILITARY HS', 89.9, 0.356846473029046] ,
['609680', 'PAYTON HS', 98.5, 0.108412836079792] ,
['609678', 'JONES HS', 98.1, 0.119395203336809] ,
['609719', 'LAKE VIEW HS', 88.2, 0.103249097472924]]

//create x and y axis
	xScale.domain([0, d3.max(dataset, function(d){	return d[3]; })]);
	yScale.domain([0, d3.max(dataset, function(d){  return d[2]; })]); 


		svg.selectAll("circle")
			.data(dataset)
			.transition()
			.duration(1000)
			.on("start", function() {
					d3.select(this)
						.attr("fill", "orange")
						.attr("r", 3);
			})
			.attr("cx", function(d) {
			// three added because the data point with 1 student appeared to be left of the y axis.
			//the data point needs to be removed
									return xScale(d[3])+3;})
			.attr("cy", function(d) {
									return yScale(d[2]);})
			.on("end", function() {
				d3.select(this)
					.attr("fill", "black")
					.attr("r", 3);
			});

					svg.select(".y.axis")
					 .transition()
					 .duration(1000)
								.call(yAxis);
		
					svg.select(".x.axis")
					 .transition()
					 .duration(1000)
								.call(xAxis);

			svg.select(".title")
				 .text("2017/18 CPS High School Graduation Rates vs. African American Student %");

				svg.select(".x.label")
	 		.text("African American Student %");

				});


d3.select("#asian_students")
	.on("click", function() {
dataset = [
['400105', 'URBAN PREP - BRONZEVILLE HS', 83.1, 0.0] ,
['609676', 'DUNBAR HS', 62.5, 0.0] ,
['400087', 'YOUNG WOMENS HS', 67.6, 0.0] ,
['609764', 'JUAREZ HS', 78.6, 0.00586166471277843] ,
['400104', 'INSTITUTO - HEALTH', 85.0, 0.0] ,
['609748', 'YORK HS', 2.3, 0.0] ,
['400057', 'NOBLE - UIC HS', 92.4, 0.0311493018259936] ,
['609750', 'SIMPSON HS', 23.1, 0.0] ,
['400102', 'URBAN PREP - WEST HS', 57.3, 0.0] ,
['400091', 'CHICAGO TECH HS', 77.0, 0.00743494423791822] ,
['400054', 'NOBLE - PRITZKER HS', 91.3, 0.0] ,
['609691', 'NORTH-GRAND HS', 79.3, 0.0030241935483871] ,
['609716', 'KELVYN PARK HS', 65.7, 0.0] ,
['609679', 'PROSSER HS', 87.6, 0.00376222723852521] ,
['609726', 'BROOKS HS', 90.4, 0.00202224469160768] ,
['609705', 'FENGER HS', 57.7, 0.0] ,
['609761', 'CORLISS HS', 64.3, 0.0] ,
['609710', 'HARLAN HS', 57.4, 0.0] ,
['400094', 'EPIC HS', 74.3, 0.0] ,
['609739', 'WASHINGTON HS', 81.4, 0.00208333333333333] ,
['609674', 'CHICAGO VOCATIONAL HS', 76.8, 0.00112612612612613] ,
['610323', 'BOWEN HS', 61.9, 0.0] ,
['610547', 'SOUTH SHORE INTL HS', 86.5, 0.0] ,
['609755', 'YOUNG HS', 96.1, 0.166892808683853] ,
['400036', 'CHICAGO VIRTUAL', 60.0, 0.0655737704918033] ,
['609756', 'CURIE HS', 78.7, 0.0164835164835165] ,
['400085', 'ACERO - GARCIA HS', 89.2, 0.0032] ,
['609715', 'KELLY HS', 79.2, 0.131509731720147] ,
['610543', 'SOLORIO HS', 82.7, 0.0] ,
['610518', 'AUSTIN CCA HS', 77.3, 0.0] ,
['610245', 'DOUGLASS HS', 60.9, 0.0] ,
['610244', 'CLARK HS', 82.1, 0.0] ,
['400077', 'U OF C - WOODLAWN HS', 73.1, 0.0] ,
['609713', 'HYDE PARK HS', 57.0, 0.0] ,
['400056', 'NOBLE - ROWE CLARK HS', 78.6, 0.0] ,
['610394', 'UPLIFT HS', 58.4, 0.0628930817610063] ,
['400058', 'NORTH LAWNDALE - CHRISTIANA HS', 75.9, 0.0] ,
['609704', 'FARRAGUT HS', 62.6, 0.0] ,
['610385', 'MULTICULTURAL HS', 82.0, 0.0] ,
['610383', 'SOCIAL JUSTICE HS', 77.6, 0.0] ,
['610384', 'INFINITY HS', 91.6, 0.00245098039215686] ,
['610392', 'WORLD LANGUAGE HS', 85.0, 0.0] ,
['610357', 'SPRY HS', 83.6, 0.0] ,
['610499', 'COLLINS HS', 61.0, 0.0] ,
['400059', 'NORTH LAWNDALE - COLLINS HS', 75.7, 0.0] ,
['609692', 'SIMEON HS', 85.2, 0.0] ,
['400062', 'PERSPECTIVES - TECH HS', 80.6, 0.0] ,
['400061', 'PERSPECTIVES - LEADERSHIP HS', 80.3, 0.0] ,
['400032', 'CICS - ELLISON HS', 77.8, 0.0] ,
['610529', 'OGDEN HS', 93.9, 0.0302013422818792] ,
['400055', 'NOBLE - RAUNER HS', 83.8, 0.0] ,
['400051', 'NOBLE - NOBLE HS', 94.1, 0.00748502994011976] ,
['400053', 'NOBLE - GOLDER HS', 86.2, 0.00299850074962519] ,
['610340', 'CHICAGO ACADEMY HS', 87.1, 0.0446428571428571] ,
['609732', 'STEINMETZ HS', 73.9, 0.0227272727272727] ,
['609722', 'MANLEY HS', 43.3, 0.0] ,
['609783', 'JEFFERSON HS', 0.8, 0.00526315789473684] ,
['400097', 'NOBLE - BULLS HS', 81.9, 0.00430663221360896] ,
['610304', 'PHOENIX MILITARY HS', 92.9, 0.0165137614678899] ,
['609744', 'NORTHSIDE LEARNING HS', 0.0, 0.0409090909090909] ,
['609724', 'MATHER HS', 78.5, 0.288409703504043] ,
['400034', 'CICS - NORTHTOWN HS', 84.4, 0.179738562091503] ,
['609738', 'LINCOLN PARK HS', 90.9, 0.121615201900238] ,
['609746', 'KENWOOD HS', 86.3, 0.0279269602577873] ,
['610381', 'BRONZEVILLE HS', 75.9, 0.00460829493087558] ,
['610380', 'WILLIAMS HS', 87.3, 0.0] ,
['609712', 'HIRSCH HS', 40.0, 0.0] ,
['400052', 'NOBLE - COMER', 85.4, 0.000846740050804403] ,
['609734', 'TAFT HS', 87.2, 0.0785002929115407] ,
['400033', 'CICS - LONGWOOD', 73.3, 0.0] ,
['609762', 'JULIAN HS', 71.3, 0.0] ,
['609725', 'MORGAN PARK HS', 82.6, 0.0] ,
['610513', 'AIR FORCE HS', 86.7, 0.0152284263959391] ,
['609735', 'TILDEN HS', 55.2, 0.0091324200913242] ,
['609682', 'RICHARDS HS', 59.5, 0.0] ,
['400106', 'NOBLE - JOHNSON HS', 77.7, 0.00131233595800525] ,
['400086', 'URBAN PREP - ENGLEWOOD HS', 78.7, 0.0] ,
['610506', 'TEAM HS', 75.9, 0.0] ,
['609768', 'HOPE HS', 61.9, 0.0] ,
['609708', 'FOREMAN HS', 64.7, 0.00534045393858478] ,
['609729', 'SCHURZ HS', 74.3, 0.0148331273176761] ,
['609766', 'VAUGHN HS', 20.6, 0.0175438596491228] ,
['609698', 'BOGAN HS', 71.4, 0.0] ,
['610524', 'ALCOTT HS', 81.3, 0.00632911392405063] ,
['609720', 'LANE TECH HS', 95.5, 0.105006645990253] ,
['400013', 'ASPIRA - EARLY COLLEGE HS', 79.2, 0.00588235294117647] ,
['609694', 'HANCOCK HS', 86.2, 0.0108803165182987] ,
['609741', 'HUBBARD HS', 82.9, 0.00117302052785924] ,
['609709', 'GAGE PARK HS', 62.8, 0.0] ,
['609728', 'ROOSEVELT HS', 69.7, 0.0817610062893082] ,
['609737', 'VON STEUBEN HS', 91.1, 0.133898305084746] ,
['609749', 'NORTHSIDE PREP HS', 96.6, 0.2025664527956] ,
['609695', 'AMUNDSEN HS', 76.0, 0.113618677042802] ,
['400066', 'PERSPECTIVES - MATH & SCI HS', 75.7, 0.0] ,
['609754', 'CHICAGO MILITARY HS', 89.6, 0.0] ,
['609727', 'PHILLIPS HS', 63.0, 0.0] ,
['609751', 'KING HS', 88.5, 0.00584795321637427] ,
['400098', 'NOBLE - MUCHIN HS', 94.8, 0.0369989722507708] ,
['609733', 'SULLIVAN HS', 66.1, 0.174174174174174] ,
['400035', 'CHICAGO MATH & SCIENCE HS', 85.9, 0.0943708609271523] ,
['609740', 'WELLS HS', 75.7, 0.00552486187845304] ,
['609759', 'CLEMENTE HS', 81.5, 0.00284090909090909] ,
['400022', 'CHIARTS HS', 84.6, 0.0179738562091503] ,
['609730', 'SENN HS', 85.8, 0.180212014134276] ,
['610390', 'RICKOVER MILITARY HS', 88.3, 0.0611353711790393] ,
['610389', 'ORR HS', 46.4, 0.0] ,
['609723', 'MARSHALL HS', 46.1, 0.0] ,
['610334', 'RABY HS', 67.5, 0.00291545189504373] ,
['609693', 'WESTINGHOUSE HS', 93.3, 0.0465502909393184] ,
['609718', 'KENNEDY HS', 73.8, 0.006875] ,
['610391', 'LINDBLOM HS', 89.3, 0.00879765395894428] ,
['609711', 'HARPER HS', 55.9, 0.0] ,
['609753', 'CHICAGO AGRICULTURE HS', 83.9, 0.00260756192959583] ,
['609760', 'CARVER MILITARY HS', 89.9, 0.0] ,
['609680', 'PAYTON HS', 98.5, 0.174327840416305] ,
['609678', 'JONES HS', 98.1, 0.142857142857143] ,
['609719', 'LAKE VIEW HS', 88.2, 0.0303249097472924]]

//create x and y axis
	xScale.domain([0, d3.max(dataset, function(d){	return d[3]; })]);
	yScale.domain([0, d3.max(dataset, function(d){  return d[2]; })]); 


		svg.selectAll("circle")
			.data(dataset)
			.transition()
			.duration(1000)
			.on("start", function() {
					d3.select(this)
						.attr("fill", "blue")
						.attr("r", 3);
			})
			.attr("cx", function(d) {
			// three added because the data point with 1 student appeared to be left of the y axis.
			//the data point needs to be removed
									return xScale(d[3])+3;})
			.attr("cy", function(d) {
									return yScale(d[2]);})
			.on("end", function() {
				d3.select(this)
					.attr("fill", "black")
					.attr("r", 3);
			});

					svg.select(".y.axis")
					 .transition()
					 .duration(1000)
								.call(yAxis);
		
					svg.select(".x.axis")
					 .transition()
					 .duration(1000)
								.call(xAxis);

			svg.select(".title")
				 .text("2017/18 CPS High School Graduation Rates vs. Asian Student %");

				svg.select(".x.label")
	 		.text("Asian Student %");

				});

	
d3.select("#caucasian_students")
	.on("click", function() {
dataset = [
['400105', 'URBAN PREP - BRONZEVILLE HS', 83.1, 0.0] ,
['609676', 'DUNBAR HS', 62.5, 0.0062111801242236] ,
['400087', 'YOUNG WOMENS HS', 67.6, 0.00625] ,
['609764', 'JUAREZ HS', 78.6, 0.00586166471277843] ,
['400104', 'INSTITUTO - HEALTH', 85.0, 0.00268456375838926] ,
['609748', 'YORK HS', 2.3, 0.00543478260869565] ,
['400057', 'NOBLE - UIC HS', 92.4, 0.0118152524167562] ,
['609750', 'SIMPSON HS', 23.1, 0.0] ,
['400102', 'URBAN PREP - WEST HS', 57.3, 0.0] ,
['400091', 'CHICAGO TECH HS', 77.0, 0.0223048327137546] ,
['400054', 'NOBLE - PRITZKER HS', 91.3, 0.00923076923076923] ,
['609691', 'NORTH-GRAND HS', 79.3, 0.00907258064516129] ,
['609716', 'KELVYN PARK HS', 65.7, 0.0246913580246914] ,
['609679', 'PROSSER HS', 87.6, 0.0195635816403311] ,
['609726', 'BROOKS HS', 90.4, 0.0070778564206269] ,
['609705', 'FENGER HS', 57.7, 0.0] ,
['609761', 'CORLISS HS', 64.3, 0.0] ,
['609710', 'HARLAN HS', 57.4, 0.00303951367781155] ,
['400094', 'EPIC HS', 74.3, 0.00736648250460405] ,
['609739', 'WASHINGTON HS', 81.4, 0.0479166666666667] ,
['609674', 'CHICAGO VOCATIONAL HS', 76.8, 0.00337837837837838] ,
['610323', 'BOWEN HS', 61.9, 0.00395256916996047] ,
['610547', 'SOUTH SHORE INTL HS', 86.5, 0.00152671755725191] ,
['609755', 'YOUNG HS', 96.1, 0.280868385345997] ,
['400036', 'CHICAGO VIRTUAL', 60.0, 0.107302533532042] ,
['609756', 'CURIE HS', 78.7, 0.020260989010989] ,
['400085', 'ACERO - GARCIA HS', 89.2, 0.0176] ,
['609715', 'KELLY HS', 79.2, 0.01788532351394] ,
['610543', 'SOLORIO HS', 82.7, 0.00752508361204013] ,
['610518', 'AUSTIN CCA HS', 77.3, 0.00467289719626168] ,
['610245', 'DOUGLASS HS', 60.9, 0.0] ,
['610244', 'CLARK HS', 82.1, 0.0] ,
['400077', 'U OF C - WOODLAWN HS', 73.1, 0.0] ,
['609713', 'HYDE PARK HS', 57.0, 0.0] ,
['400056', 'NOBLE - ROWE CLARK HS', 78.6, 0.00247524752475248] ,
['610394', 'UPLIFT HS', 58.4, 0.0251572327044025] ,
['400058', 'NORTH LAWNDALE - CHRISTIANA HS', 75.9, 0.00272479564032698] ,
['609704', 'FARRAGUT HS', 62.6, 0.00744047619047619] ,
['610385', 'MULTICULTURAL HS', 82.0, 0.00909090909090909] ,
['610383', 'SOCIAL JUSTICE HS', 77.6, 0.00657894736842105] ,
['610384', 'INFINITY HS', 91.6, 0.00245098039215686] ,
['610392', 'WORLD LANGUAGE HS', 85.0, 0.00845070422535211] ,
['610357', 'SPRY HS', 83.6, 0.0238095238095238] ,
['610499', 'COLLINS HS', 61.0, 0.0] ,
['400059', 'NORTH LAWNDALE - COLLINS HS', 75.7, 0.0] ,
['609692', 'SIMEON HS', 85.2, 0.0] ,
['400062', 'PERSPECTIVES - TECH HS', 80.6, 0.0] ,
['400061', 'PERSPECTIVES - LEADERSHIP HS', 80.3, 0.0] ,
['400032', 'CICS - ELLISON HS', 77.8, 0.0] ,
['610529', 'OGDEN HS', 93.9, 0.12751677852349] ,
['400055', 'NOBLE - RAUNER HS', 83.8, 0.0161550888529887] ,
['400051', 'NOBLE - NOBLE HS', 94.1, 0.0119760479041916] ,
['400053', 'NOBLE - GOLDER HS', 86.2, 0.0224887556221889] ,
['610340', 'CHICAGO ACADEMY HS', 87.1, 0.194642857142857] ,
['609732', 'STEINMETZ HS', 73.9, 0.088474025974026] ,
['609722', 'MANLEY HS', 43.3, 0.0120481927710843] ,
['609783', 'JEFFERSON HS', 0.8, 0.0263157894736842] ,
['400097', 'NOBLE - BULLS HS', 81.9, 0.00602928509905254] ,
['610304', 'PHOENIX MILITARY HS', 92.9, 0.00917431192660551] ,
['609744', 'NORTHSIDE LEARNING HS', 0.0, 0.204545454545455] ,
['609724', 'MATHER HS', 78.5, 0.16644204851752] ,
['400034', 'CICS - NORTHTOWN HS', 84.4, 0.166666666666667] ,
['609738', 'LINCOLN PARK HS', 90.9, 0.287410926365796] ,
['609746', 'KENWOOD HS', 86.3, 0.0504833512352309] ,
['610381', 'BRONZEVILLE HS', 75.9, 0.0] ,
['610380', 'WILLIAMS HS', 87.3, 0.0] ,
['609712', 'HIRSCH HS', 40.0, 0.0] ,
['400052', 'NOBLE - COMER', 85.4, 0.0] ,
['609734', 'TAFT HS', 87.2, 0.466022261277094] ,
['400033', 'CICS - LONGWOOD', 73.3, 0.00078064012490242] ,
['609762', 'JULIAN HS', 71.3, 0.0] ,
['609725', 'MORGAN PARK HS', 82.6, 0.0024232633279483] ,
['610513', 'AIR FORCE HS', 86.7, 0.0812182741116751] ,
['609735', 'TILDEN HS', 55.2, 0.100456621004566] ,
['609682', 'RICHARDS HS', 59.5, 0.00884955752212389] ,
['400106', 'NOBLE - JOHNSON HS', 77.7, 0.0] ,
['400086', 'URBAN PREP - ENGLEWOOD HS', 78.7, 0.0] ,
['610506', 'TEAM HS', 75.9, 0.0] ,
['609768', 'HOPE HS', 61.9, 0.136363636363636] ,
['609708', 'FOREMAN HS', 64.7, 0.0226969292389853] ,
['609729', 'SCHURZ HS', 74.3, 0.053770086526576] ,
['609766', 'VAUGHN HS', 20.6, 0.223684210526316] ,
['609698', 'BOGAN HS', 71.4, 0.00472255017709563] ,
['610524', 'ALCOTT HS', 81.3, 0.104430379746835] ,
['609720', 'LANE TECH HS', 95.5, 0.35400974745237] ,
['400013', 'ASPIRA - EARLY COLLEGE HS', 79.2, 0.0147058823529412] ,
['609694', 'HANCOCK HS', 86.2, 0.0276953511374876] ,
['609741', 'HUBBARD HS', 82.9, 0.0181818181818182] ,
['609709', 'GAGE PARK HS', 62.8, 0.00578034682080925] ,
['609728', 'ROOSEVELT HS', 69.7, 0.0576519916142558] ,
['609737', 'VON STEUBEN HS', 91.1, 0.164406779661017] ,
['609749', 'NORTHSIDE PREP HS', 96.6, 0.267644362969753] ,
['609695', 'AMUNDSEN HS', 76.0, 0.160311284046693] ,
['400066', 'PERSPECTIVES - MATH & SCI HS', 75.7, 0.00202020202020202] ,
['609754', 'CHICAGO MILITARY HS', 89.6, 0.0134228187919463] ,
['609727', 'PHILLIPS HS', 63.0, 0.00130208333333333] ,
['609751', 'KING HS', 88.5, 0.00194931773879142] ,
['400098', 'NOBLE - MUCHIN HS', 94.8, 0.00411099691675231] ,
['609733', 'SULLIVAN HS', 66.1, 0.0675675675675676] ,
['400035', 'CHICAGO MATH & SCIENCE HS', 85.9, 0.0480132450331126] ,
['609740', 'WELLS HS', 75.7, 0.0497237569060773] ,
['609759', 'CLEMENTE HS', 81.5, 0.0170454545454545] ,
['400022', 'CHIARTS HS', 84.6, 0.197712418300654] ,
['609730', 'SENN HS', 85.8, 0.106007067137809] ,
['610390', 'RICKOVER MILITARY HS', 88.3, 0.0829694323144105] ,
['610389', 'ORR HS', 46.4, 0.0133333333333333] ,
['609723', 'MARSHALL HS', 46.1, 0.0] ,
['610334', 'RABY HS', 67.5, 0.0116618075801749] ,
['609693', 'WESTINGHOUSE HS', 93.3, 0.0199501246882793] ,
['609718', 'KENNEDY HS', 73.8, 0.199375] ,
['610391', 'LINDBLOM HS', 89.3, 0.0278592375366569] ,
['609711', 'HARPER HS', 55.9, 0.0] ,
['609753', 'CHICAGO AGRICULTURE HS', 83.9, 0.352020860495437] ,
['609760', 'CARVER MILITARY HS', 89.9, 0.012448132780083] ,
['609680', 'PAYTON HS', 98.5, 0.436253252385082] ,
['609678', 'JONES HS', 98.1, 0.39259645464025] ,
['609719', 'LAKE VIEW HS', 88.2, 0.129963898916967]]

//create x and y axis
	xScale.domain([0, d3.max(dataset, function(d){	return d[3]; })]);
	yScale.domain([0, d3.max(dataset, function(d){  return d[2]; })]); 


		svg.selectAll("circle")
			.data(dataset)
			.transition()
			.duration(1000)
			.on("start", function() {
					d3.select(this)
						.attr("fill", "purple")
						.attr("r", 3);
			})
			.attr("cx", function(d) {
			// three added because the data point with 1 student appeared to be left of the y axis.
			//the data point needs to be removed
									return xScale(d[3])+3;})
			.attr("cy", function(d) {
									return yScale(d[2]);})
			.on("end", function() {
				d3.select(this)
					.attr("fill", "black")
					.attr("r", 3);
			});

					svg.select(".y.axis")
					 .transition()
					 .duration(1000)
								.call(yAxis);
		
					svg.select(".x.axis")
					 .transition()
					 .duration(1000)
								.call(xAxis);

			svg.select(".title")
				 .text("2017/18 CPS High School Graduation Rates vs. Caucasian Student %");

				svg.select(".x.label")
	 		.text("Caucasian Student %");

				});
	
d3.select("#hispanic_students")
	.on("click", function() {
dataset = [['400105', 'URBAN PREP - BRONZEVILLE HS', 83.1, 0.0118694362017804] ,
['609676', 'DUNBAR HS', 62.5, 0.0403726708074534] ,
['400087', 'YOUNG WOMENS HS', 67.6, 0.0375] ,
['609764', 'JUAREZ HS', 78.6, 0.942555685814771] ,
['400104', 'INSTITUTO - HEALTH', 85.0, 0.974496644295302] ,
['609748', 'YORK HS', 2.3, 0.195652173913043] ,
['400057', 'NOBLE - UIC HS', 92.4, 0.642320085929108] ,
['609750', 'SIMPSON HS', 23.1, 0.264705882352941] ,
['400102', 'URBAN PREP - WEST HS', 57.3, 0.0227272727272727] ,
['400091', 'CHICAGO TECH HS', 77.0, 0.159851301115242] ,
['400054', 'NOBLE - PRITZKER HS', 91.3, 0.946666666666667] ,
['609691', 'NORTH-GRAND HS', 79.3, 0.809475806451613] ,
['609716', 'KELVYN PARK HS', 65.7, 0.906172839506173] ,
['609679', 'PROSSER HS', 87.6, 0.777276147479308] ,
['609726', 'BROOKS HS', 90.4, 0.179979777553084] ,
['609705', 'FENGER HS', 57.7, 0.0192307692307692] ,
['609761', 'CORLISS HS', 64.3, 0.0145454545454545] ,
['609710', 'HARLAN HS', 57.4, 0.0182370820668693] ,
['400094', 'EPIC HS', 74.3, 0.357274401473296] ,
['609739', 'WASHINGTON HS', 81.4, 0.884027777777778] ,
['609674', 'CHICAGO VOCATIONAL HS', 76.8, 0.0225225225225225] ,
['610323', 'BOWEN HS', 61.9, 0.181818181818182] ,
['610547', 'SOUTH SHORE INTL HS', 86.5, 0.0244274809160305] ,
['609755', 'YOUNG HS', 96.1, 0.290818634102216] ,
['400036', 'CHICAGO VIRTUAL', 60.0, 0.199701937406855] ,
['609756', 'CURIE HS', 78.7, 0.827953296703297] ,
['400085', 'ACERO - GARCIA HS', 89.2, 0.9648] ,
['609715', 'KELLY HS', 79.2, 0.790110468174645] ,
['610543', 'SOLORIO HS', 82.7, 0.94314381270903] ,
['610518', 'AUSTIN CCA HS', 77.3, 0.014018691588785] ,
['610245', 'DOUGLASS HS', 60.9, 0.0476190476190476] ,
['610244', 'CLARK HS', 82.1, 0.0306513409961686] ,
['400077', 'U OF C - WOODLAWN HS', 73.1, 0.0112359550561798] ,
['609713', 'HYDE PARK HS', 57.0, 0.00789473684210526] ,
['400056', 'NOBLE - ROWE CLARK HS', 78.6, 0.185643564356436] ,
['610394', 'UPLIFT HS', 58.4, 0.157232704402516] ,
['400058', 'NORTH LAWNDALE - CHRISTIANA HS', 75.9, 0.0108991825613079] ,
['609704', 'FARRAGUT HS', 62.6, 0.866071428571429] ,
['610385', 'MULTICULTURAL HS', 82.0, 0.85] ,
['610383', 'SOCIAL JUSTICE HS', 77.6, 0.878289473684211] ,
['610384', 'INFINITY HS', 91.6, 0.987745098039216] ,
['610392', 'WORLD LANGUAGE HS', 85.0, 0.929577464788732] ,
['610357', 'SPRY HS', 83.6, 0.96031746031746] ,
['610499', 'COLLINS HS', 61.0, 0.0225225225225225] ,
['400059', 'NORTH LAWNDALE - COLLINS HS', 75.7, 0.00546448087431694] ,
['609692', 'SIMEON HS', 85.2, 0.0104399701715138] ,
['400062', 'PERSPECTIVES - TECH HS', 80.6, 0.00952380952380952] ,
['400061', 'PERSPECTIVES - LEADERSHIP HS', 80.3, 0.0148514851485149] ,
['400032', 'CICS - ELLISON HS', 77.8, 0.0028735632183908] ,
['610529', 'OGDEN HS', 93.9, 0.369127516778524] ,
['400055', 'NOBLE - RAUNER HS', 83.8, 0.775444264943457] ,
['400051', 'NOBLE - NOBLE HS', 94.1, 0.850299401197605] ,
['400053', 'NOBLE - GOLDER HS', 86.2, 0.796101949025487] ,
['610340', 'CHICAGO ACADEMY HS', 87.1, 0.639285714285714] ,
['609732', 'STEINMETZ HS', 73.9, 0.715097402597403] ,
['609722', 'MANLEY HS', 43.3, 0.0120481927710843] ,
['609783', 'JEFFERSON HS', 0.8, 0.152631578947368] ,
['400097', 'NOBLE - BULLS HS', 81.9, 0.660637381567614] ,
['610304', 'PHOENIX MILITARY HS', 92.9, 0.805504587155963] ,
['609744', 'NORTHSIDE LEARNING HS', 0.0, 0.522727272727273] ,
['609724', 'MATHER HS', 78.5, 0.384770889487871] ,
['400034', 'CICS - NORTHTOWN HS', 84.4, 0.559912854030501] ,
['609738', 'LINCOLN PARK HS', 90.9, 0.331116389548694] ,
['609746', 'KENWOOD HS', 86.3, 0.0472610096670247] ,
['610381', 'BRONZEVILLE HS', 75.9, 0.0276497695852535] ,
['610380', 'WILLIAMS HS', 87.3, 0.0279329608938547] ,
['609712', 'HIRSCH HS', 40.0, 0.00970873786407767] ,
['400052', 'NOBLE - COMER', 85.4, 0.0237087214225233] ,
['609734', 'TAFT HS', 87.2, 0.393673110720562] ,
['400033', 'CICS - LONGWOOD', 73.3, 0.00624512099921936] ,
['609762', 'JULIAN HS', 71.3, 0.0176991150442478] ,
['609725', 'MORGAN PARK HS', 82.6, 0.012924071082391] ,
['610513', 'AIR FORCE HS', 86.7, 0.467005076142132] ,
['609735', 'TILDEN HS', 55.2, 0.383561643835616] ,
['609682', 'RICHARDS HS', 59.5, 0.575221238938053] ,
['400106', 'NOBLE - JOHNSON HS', 77.7, 0.0354330708661417] ,
['400086', 'URBAN PREP - ENGLEWOOD HS', 78.7, 0.00386100386100386] ,
['610506', 'TEAM HS', 75.9, 0.0] ,
['609768', 'HOPE HS', 61.9, 0.363636363636364] ,
['609708', 'FOREMAN HS', 64.7, 0.748998664886515] ,
['609729', 'SCHURZ HS', 74.3, 0.816440049443758] ,
['609766', 'VAUGHN HS', 20.6, 0.513157894736842] ,
['609698', 'BOGAN HS', 71.4, 0.38370720188902] ,
['610524', 'ALCOTT HS', 81.3, 0.677215189873418] ,
['609720', 'LANE TECH HS', 95.5, 0.399867080194949] ,
['400013', 'ASPIRA - EARLY COLLEGE HS', 79.2, 0.95] ,
['609694', 'HANCOCK HS', 86.2, 0.939663699307616] ,
['609741', 'HUBBARD HS', 82.9, 0.90733137829912] ,
['609709', 'GAGE PARK HS', 62.8, 0.606936416184971] ,
['609728', 'ROOSEVELT HS', 69.7, 0.705450733752621] ,
['609737', 'VON STEUBEN HS', 91.1, 0.576271186440678] ,
['609749', 'NORTHSIDE PREP HS', 96.6, 0.299725022914757] ,
['609695', 'AMUNDSEN HS', 76.0, 0.587548638132296] ,
['400066', 'PERSPECTIVES - MATH & SCI HS', 75.7, 0.0181818181818182] ,
['609754', 'CHICAGO MILITARY HS', 89.6, 0.345637583892617] ,
['609727', 'PHILLIPS HS', 63.0, 0.0143229166666667] ,
['609751', 'KING HS', 88.5, 0.0409356725146199] ,
['400098', 'NOBLE - MUCHIN HS', 94.8, 0.66289825282631] ,
['609733', 'SULLIVAN HS', 66.1, 0.34984984984985] ,
['400035', 'CHICAGO MATH & SCIENCE HS', 85.9, 0.514900662251656] ,
['609740', 'WELLS HS', 75.7, 0.44475138121547] ,
['609759', 'CLEMENTE HS', 81.5, 0.669034090909091] ,
['400022', 'CHIARTS HS', 84.6, 0.352941176470588] ,
['609730', 'SENN HS', 85.8, 0.419081272084806] ,
['610390', 'RICKOVER MILITARY HS', 88.3, 0.768558951965066] ,
['610389', 'ORR HS', 46.4, 0.142222222222222] ,
['609723', 'MARSHALL HS', 46.1, 0.0150943396226415] ,
['610334', 'RABY HS', 67.5, 0.0612244897959184] ,
['609693', 'WESTINGHOUSE HS', 93.3, 0.394014962593516] ,
['609718', 'KENNEDY HS', 73.8, 0.744375] ,
['610391', 'LINDBLOM HS', 89.3, 0.243401759530792] ,
['609711', 'HARPER HS', 55.9, 0.0344827586206897] ,
['609753', 'CHICAGO AGRICULTURE HS', 83.9, 0.176010430247718] ,
['609760', 'CARVER MILITARY HS', 89.9, 0.62655601659751] ,
['609680', 'PAYTON HS', 98.5, 0.222029488291414] ,
['609678', 'JONES HS', 98.1, 0.293534932221064] ,
['609719', 'LAKE VIEW HS', 88.2, 0.704693140794224]
]
//create x and y axis
	xScale.domain([0, d3.max(dataset, function(d){	return d[3]; })]);
	yScale.domain([0, d3.max(dataset, function(d){  return d[2]; })]); 


		svg.selectAll("circle")
			.data(dataset)
			.transition()
			.duration(1000)
			.on("start", function() {
					d3.select(this)
						.attr("fill", "red")
						.attr("r", 3);
			})
			.attr("cx", function(d) {
			// three added because the data point with 1 student appeared to be left of the y axis.
			//the data point needs to be removed
									return xScale(d[3])+3;})
			.attr("cy", function(d) {
									return yScale(d[2]);})
			.on("end", function() {
				d3.select(this)
					.attr("fill", "black")
					.attr("r", 3);
			});

					svg.select(".y.axis")
					 .transition()
					 .duration(1000)
								.call(yAxis);
		
					svg.select(".x.axis")
					 .transition()
					 .duration(1000)
								.call(xAxis);

			svg.select(".title")
				 .text("2017/18 CPS High School Graduation Rates vs. Hispanic Student %");

				svg.select(".x.label")
	 		.text("Hispanic Student %");

				});
	
</script>


  </article>
  
  <article class="post">
    <h1 class="post-title">
      <a href="/2019/03/27/ProjectGutenbergRecommender/">
        Project Gutenberg Book Recommender
      </a>
    </h1>

    <time datetime="2019-03-27T00:00:00-05:00" class="post-date">27 Mar 2019</time>

    <p>The fourth Metis project focused on natural language processing, or NLP for short.  As a subset of data science, it is both incredibly exciting and deceptively frustrating. Its not hard to explain its allure: transforming words from books or articles into multi-dimensional space is a beautiful idea.  I used <a href="https://www.gutenberg.org/">Project Gutenberg</a> as the data source for my project.  I created a Flask app which takes in a piece of text, then recommends a similar book to read from Project Gutenberg.  Stay with me for a few more paragraphs to learn about the challenges and rewards of the project.</p>

<div class="parallax"></div>

<p>Three important tools for an NLP project are tokenizing, vectorization, and topic modeling.  Tokenizers take a document and break it up into smaller parts: sentences, words, parts of words. Vectorization turns these words into value counts in a new dimension where a single word exists.  I used a tf-idf vectorizer, which transforms a document into vectorized tokens representing the frequency of a word in proportion to its likelihood of appearing in any given document.  After tf-idf vectorization, topic modeling finds similarities between these frequencies, and winnows down the number of dimensions to a number of topics. The larger concept is known as dimensionality reduction.</p>

<p>Hopefully the flow of the last paragraph communicated both the beauty and frustration I alluded to at the beginning.  Imagining words floating around in a spatial representation of their frequency is awesome.  And the algorithms which I implemented to reduce these frequencies to topic patterns work surprisingly well.  While analyzing the set of the Top 100 ebooks downloaded on Project Gutenberg on a given day, the algorithms spit out pretty concise topics. If I set sklearns NMF modeler to 7 topics, it yielded the following self-labeled categories: seafaring adventure, slavery/race, city life, law/philosophy, family, manners, and terrestrial/space exploration.  These labels were subjectively defined by me, yet it is hard to  look at the groups and not see intriguing patterns. Here is an example of first five words relating to seafaring: ship, sea, captain, boat, island. Here are the first five for law/philosophy: power, opinion, nature, subject, law. The NMF modeler and its kin are kind of magical.</p>

<div class="magical"></div>

<p>The major frustration comes in tandem with the magic.  It is difficult to visualize how dimensionality reduction works.  I found myself imagining the word frequencies in three dimensional space. This is a fine place to start, but making the leap from three dimensions to a dimension per word is a harder leap.  There is no visual equivalent.  The frustration entered when the initial awe of mapping a text into multiple dimensions gave way to the recognition that I couldnt visually imagine what the algorithms were doing. The way to understand them is via linear algebra calculations, which are beautiful in their own way, but not as alluring as points floating in space.</p>

<p>As is often the case in data science, beauty and frustration give way to whether the end-product works.  The flask app performs fairly well.  It makes interesting predictions, and points the user in a good direction.  The app is not live yet. Until it is, check out my code on <a href="https://github.com/j-max/gutenberg_recommender">Github</a>.</p>


  </article>
  
</div>

<div class="pagination">
  
    <a class="pagination-item older" href="/page2">Older</a>
  
  
    <span class="pagination-item newer">Newer</span>
  
</div>

      </main>

      <footer class="footer">
        <small>
          &copy; <time datetime="2019-06-19T15:27:53-05:00">2019</time>. All rights reserved.
        </small>
      </footer>
    </div>

    
  </body>
</html>
